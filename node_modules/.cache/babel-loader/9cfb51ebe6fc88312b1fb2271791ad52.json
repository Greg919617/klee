{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"react\"), require(\"prop-types\"));else if (typeof define === 'function' && define.amd) define([\"react\", \"prop-types\"], factory);else if (typeof exports === 'object') exports[\"AudioPlayer\"] = factory(require(\"react\"), require(\"prop-types\"));else root[\"AudioPlayer\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(window, function (__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__) {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) {\n          return value[key];\n        }.bind(null, key));\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"/dist\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 4);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE__0__;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE__1__;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n      /*!\n      Copyright (c) 2017 Jed Watson.\n      Licensed under the MIT License (MIT), see\n      http://jedwatson.github.io/classnames\n      */\n\n      /* global define */\n\n\n      (function () {\n        'use strict';\n\n        var hasOwn = {}.hasOwnProperty;\n\n        function classNames() {\n          var classes = [];\n\n          for (var i = 0; i < arguments.length; i++) {\n            var arg = arguments[i];\n            if (!arg) continue;\n            var argType = typeof arg;\n\n            if (argType === 'string' || argType === 'number') {\n              classes.push(arg);\n            } else if (Array.isArray(arg) && arg.length) {\n              var inner = classNames.apply(null, arg);\n\n              if (inner) {\n                classes.push(inner);\n              }\n            } else if (argType === 'object') {\n              for (var key in arg) {\n                if (hasOwn.call(arg, key) && arg[key]) {\n                  classes.push(key);\n                }\n              }\n            }\n          }\n\n          return classes.join(' ');\n        }\n\n        if (typeof module !== 'undefined' && module.exports) {\n          classNames.default = classNames;\n          module.exports = classNames;\n        } else if (true) {\n          // register as 'classnames', consistent with npm package name\n          !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n            return classNames;\n          }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n        } else {}\n      })();\n      /***/\n\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function (arr, predicate, ctx) {\n        if (typeof Array.prototype.findIndex === 'function') {\n          return arr.findIndex(predicate, ctx);\n        }\n\n        if (typeof predicate !== 'function') {\n          throw new TypeError('predicate must be a function');\n        }\n\n        var list = Object(arr);\n        var len = list.length;\n\n        if (len === 0) {\n          return -1;\n        }\n\n        for (var i = 0; i < len; i++) {\n          if (predicate.call(ctx, list[i], i, list)) {\n            return i;\n          }\n        }\n\n        return -1;\n      };\n      /***/\n\n    },\n    /* 4 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n\n      __webpack_require__.r(__webpack_exports__);\n      /* harmony import */\n\n\n      var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n      /* harmony import */\n\n\n      var react__WEBPACK_IMPORTED_MODULE_0___default =\n      /*#__PURE__*/\n      __webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n      /* harmony import */\n\n\n      var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);\n      /* harmony import */\n\n\n      var prop_types__WEBPACK_IMPORTED_MODULE_1___default =\n      /*#__PURE__*/\n      __webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n      /* harmony import */\n\n\n      var array_find_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);\n      /* harmony import */\n\n\n      var array_find_index__WEBPACK_IMPORTED_MODULE_2___default =\n      /*#__PURE__*/\n      __webpack_require__.n(array_find_index__WEBPACK_IMPORTED_MODULE_2__);\n      /* harmony import */\n\n\n      var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(2);\n      /* harmony import */\n\n\n      var classnames__WEBPACK_IMPORTED_MODULE_3___default =\n      /*#__PURE__*/\n      __webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n      /* harmony import */\n\n\n      var _index_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(5);\n      /* harmony import */\n\n\n      var _index_scss__WEBPACK_IMPORTED_MODULE_4___default =\n      /*#__PURE__*/\n      __webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_4__);\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];\n\n          for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n\n        return target;\n      };\n\n      function _toConsumableArray(arr) {\n        if (Array.isArray(arr)) {\n          for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n          }\n\n          return arr2;\n        } else {\n          return Array.from(arr);\n        }\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var deprecatedProps = [{\n        name: 'hideBackSkip',\n        alternativeMessage: 'Exclude \"backskip\" from `controls` to hide the back skip button.'\n      }, {\n        name: 'hideForwardSkip',\n        alternativeMessage: 'Exclude \"forwardskip\" from `controls` to hide the back skip button.'\n      }, {\n        name: 'disableSeek',\n        alternativeMessage: 'Pass \"progressdisplay\" to `controls` (instead of \"progress\") ' + 'for a non-seekable progress bar.'\n      }, {\n        name: 'playlist[?].displayText',\n        alternativeMessage: 'Use `title` and `artist` to provide track information, and override ' + ' the `getDisplayText` function prop for custom display if needed.'\n      }, {\n        name: 'style',\n        alternativeMessage: 'Apply styles to a container element or use CSS.'\n      }];\n      var log = console.log.bind(console);\n      var logError = console.error ? console.error.bind(console) : log;\n      var logWarning = console.warn ? console.warn.bind(console) : log;\n\n      function getTokensForPropName(name) {\n        // simple (imperfect) regex for splitting name into keys\n        return name.split(/\\.|\\[|\\]/).filter(function (token) {\n          return token;\n        });\n      }\n\n      function doTokensMatchObject(tokens, object) {\n        if (tokens.length === 0) {\n          // for our purposes we can assume if we've exhausted the list,\n          // then we were able to match the whole way down.\n          return true;\n        }\n\n        var t = tokens[0];\n        var nextTokens = tokens.slice(1);\n\n        if (t === '?') {\n          // wildcard - search all keys for a match\n          return Object.keys(object).some(function (key) {\n            return doTokensMatchObject(nextTokens, object[key]);\n          });\n        }\n\n        return t in object && doTokensMatchObject(nextTokens, object[t]);\n      }\n\n      function findDeprecatedProps(props) {\n        return deprecatedProps.filter(function (deprecated) {\n          return doTokensMatchObject(getTokensForPropName(deprecated.name), props);\n        });\n      }\n\n      var loggedDeprecations = [];\n\n      function logDeprecationWarnings(props) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = findDeprecatedProps(props)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var deprecated = _step.value;\n\n            if (loggedDeprecations.indexOf(deprecated.name) === -1) {\n              logWarning('\\n        The `' + deprecated.name + '` prop is deprecated. It will be removed\\n        in react-responsive-audio-player v2.0.0.\\n        ' + deprecated.alternativeMessage);\n              loggedDeprecations.push(deprecated.name);\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n\n      var nextControlKey = 0;\n\n      function getNextControlKey() {\n        return (nextControlKey++).toString();\n      }\n\n      function playErrorHandler(err) {\n        logError(err);\n\n        if (err.name === 'NotAllowedError') {\n          var warningMessage = 'Audio playback failed at ' + new Date().toLocaleTimeString() + '! (Perhaps autoplay is disabled in this browser.)';\n          logWarning(warningMessage);\n        }\n      }\n      /* converts given number of seconds to standard time display format\n       * http://goo.gl/kEvnKn\n       */\n\n\n      function convertToTime(number) {\n        var mins = Math.floor(number / 60);\n        var secs = (number % 60).toFixed();\n        return '' + (mins < 10 ? '0' : '') + mins + ':' + (secs < 10 ? '0' : '') + secs;\n      } // Existing Media Session API implementations have default handlers\n      // for play/pause, and may yield unexpected behavior if custom\n      // play/pause handlers are defined - so let's leave them be.\n\n\n      var supportableMediaSessionActions = ['previoustrack', 'nexttrack', 'seekbackward', 'seekforward']; // BEGIN PRIVATE CONTROL COMPONENTS\n\n      var SkipButton = function SkipButton(_ref) {\n        var hidden = _ref.hidden,\n            back = _ref.back,\n            onClick = _ref.onClick;\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          id: 'skip_button',\n          className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('skip_button audio_button', {\n            hidden: hidden,\n            back: back\n          }),\n          onClick: onClick\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          className: 'skip_button_inner'\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          className: 'right_facing_triangle'\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          className: 'right_facing_triangle'\n        })));\n      };\n\n      var BackSkipButton = function BackSkipButton(_ref2) {\n        var audioPlayer = _ref2.audioPlayer;\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SkipButton, {\n          audioPlayer: audioPlayer,\n          hidden: audioPlayer.props.hideBackSkip,\n          back: true,\n          onClick: audioPlayer.backSkip\n        });\n      };\n\n      var ForwardSkipButton = function ForwardSkipButton(_ref3) {\n        var audioPlayer = _ref3.audioPlayer;\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SkipButton, {\n          audioPlayer: audioPlayer,\n          hidden: audioPlayer.props.hideForwardSkip,\n          back: false,\n          onClick: audioPlayer.skipToNextTrack\n        });\n      };\n\n      var PlayPauseButton = function PlayPauseButton(_ref4) {\n        var audioPlayer = _ref4.audioPlayer;\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          id: 'play_pause_button',\n          className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('play_pause_button audio_button', {\n            paused: audioPlayer.state.paused\n          }),\n          onClick: audioPlayer.togglePause\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          className: 'play_pause_inner'\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          className: 'left'\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          className: 'right'\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          className: 'triangle_1'\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          className: 'triangle_2'\n        })));\n      };\n\n      var Spacer = function Spacer() {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          className: 'spacer'\n        });\n      };\n\n      var AudioProgressDisplay = function AudioProgressDisplay(props) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          id: 'audio_progress_container',\n          className: 'audio_progress_container',\n          ref: props.onRef,\n          onMouseDown: props.onMouseTouchStart,\n          onTouchStart: props.onMouseTouchStart\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          id: 'audio_progress',\n          className: 'audio_progress',\n          style: {\n            width: props.progressBarWidth\n          }\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          id: 'audio_progress_overlay',\n          className: 'audio_progress_overlay'\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          className: 'audio_info_marquee'\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          id: 'audio_info',\n          className: 'audio_info noselect',\n          draggable: 'false'\n        }, props.displayText)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n          id: 'audio_time_progress',\n          className: 'audio_time_progress noselect',\n          draggable: 'false'\n        }, props.timeRatio)));\n      };\n\n      var AudioProgress = function AudioProgress(props) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AudioProgressDisplay, _extends({}, props, {\n          onMouseTouchStart: props.audioPlayer.adjustDisplayedTime,\n          onRef: function onRef(ref) {\n            return props.audioPlayer.audioProgressContainer = ref;\n          }\n        }));\n      };\n\n      var keywordToControlComponent = {\n        backskip: BackSkipButton,\n        forwardskip: ForwardSkipButton,\n        playpause: PlayPauseButton,\n        spacer: Spacer,\n        progressdisplay: AudioProgressDisplay,\n        progress: AudioProgress\n      }; // END PRIVATE CONTROL COMPONENTS\n\n      var AudioPlayer = function (_React$Component) {\n        _inherits(AudioPlayer, _React$Component);\n\n        function AudioPlayer(props) {\n          _classCallCheck(this, AudioPlayer);\n          /* true if the user is currently dragging the mouse\n           * to seek a new track position\n           */\n\n\n          var _this = _possibleConstructorReturn(this, (AudioPlayer.__proto__ || Object.getPrototypeOf(AudioPlayer)).call(this, props));\n\n          _this.seekInProgress = false; // index matching requested track (whether track has loaded or not)\n\n          _this.currentTrackIndex = 0;\n          _this.defaultState = {\n            /* activeTrackIndex will change to match\n             * this.currentTrackIndex once metadata has loaded\n             */\n            activeTrackIndex: -1,\n            // indicates whether audio player should be paused\n            paused: true,\n\n            /* elapsed time for current track, in seconds -\n             * DISPLAY ONLY! the actual elapsed time may\n             * not match up if we're currently seeking, since\n             * the new time is visually previewed before the\n             * audio seeks.\n             */\n            displayedTime: 0\n          };\n          _this.state = _this.defaultState; // set of keys to use in controls render\n\n          _this.controlKeys = props.controls.map(getNextControlKey); // html audio element used for playback\n\n          _this.audio = null;\n          _this.audioProgressContainer = null; // event listeners to add on mount and remove on unmount\n\n          _this.setAudioElementRef = _this.setAudioElementRef.bind(_this);\n          _this.backSkip = _this.backSkip.bind(_this);\n          _this.skipToNextTrack = _this.skipToNextTrack.bind(_this);\n          _this.togglePause = _this.togglePause.bind(_this);\n          _this.adjustDisplayedTime = _this.adjustDisplayedTime.bind(_this);\n\n          _this.seekReleaseListener = function (e) {\n            return _this.seek(e);\n          };\n\n          _this.audioPlayListener = function () {\n            _this.setState({\n              paused: false\n            });\n\n            _this.stealMediaSession();\n          };\n\n          _this.audioPauseListener = function () {\n            return _this.setState({\n              paused: true\n            });\n          };\n\n          _this.audioEndListener = function () {\n            var gapLengthInSeconds = _this.props.gapLengthInSeconds || 0;\n            clearTimeout(_this.gapLengthTimeout);\n            _this.gapLengthTimeout = setTimeout(function () {\n              return _this.skipToNextTrack();\n            }, gapLengthInSeconds * 1000);\n          };\n\n          _this.audioStallListener = function () {\n            return _this.togglePause(true);\n          };\n\n          _this.audioTimeUpdateListener = function () {\n            return _this.handleTimeUpdate();\n          };\n\n          _this.audioMetadataLoadedListener = function () {\n            return _this.setState({\n              activeTrackIndex: _this.currentTrackIndex\n            });\n          };\n\n          return _this;\n        }\n\n        _createClass(AudioPlayer, [{\n          key: 'componentDidMount',\n          value: function componentDidMount() {\n            var _this2 = this;\n\n            logDeprecationWarnings(this.props); // add event listeners bound outside the scope of our component\n\n            window.addEventListener('mousemove', this.adjustDisplayedTime);\n            document.addEventListener('touchmove', this.adjustDisplayedTime);\n            window.addEventListener('mouseup', this.seekReleaseListener);\n            document.addEventListener('touchend', this.seekReleaseListener);\n            var audio = this.audio; // add event listeners on the audio element\n\n            audio.preload = 'metadata';\n            audio.crossOrigin = this.props.crossOrigin;\n            audio.addEventListener('play', this.audioPlayListener);\n            audio.addEventListener('pause', this.audioPauseListener);\n            audio.addEventListener('ended', this.audioEndListener);\n            audio.addEventListener('stalled', this.audioStallListener);\n            audio.addEventListener('timeupdate', this.audioTimeUpdateListener);\n            audio.addEventListener('loadedmetadata', this.audioMetadataLoadedListener);\n            this.addMediaEventListeners(this.props.onMediaEvent);\n\n            if (this.props.playlist && this.props.playlist.length) {\n              this.updateSource();\n\n              if (this.props.autoplay) {\n                var delay = this.props.autoplayDelayInSeconds || 0;\n                clearTimeout(this.delayTimeout);\n                this.delayTimeout = setTimeout(function () {\n                  return _this2.togglePause(false);\n                }, delay * 1000);\n              }\n            }\n\n            if (!this.warnedAboutPlaylistMutation) {\n              this.lastPlaylistCopy = this.props.playlist && [].concat(_toConsumableArray(this.props.playlist));\n            }\n          }\n        }, {\n          key: 'componentWillUnmount',\n          value: function componentWillUnmount() {\n            // remove event listeners bound outside the scope of our component\n            window.removeEventListener('mousemove', this.adjustDisplayedTime);\n            document.removeEventListener('touchmove', this.adjustDisplayedTime);\n            window.removeEventListener('mouseup', this.seekReleaseListener);\n            document.removeEventListener('touchend', this.seekReleaseListener); // remove event listeners on the audio element\n\n            this.audio.removeEventListener('play', this.audioPlayListener);\n            this.audio.removeEventListener('pause', this.audioPauseListener);\n            this.audio.removeEventListener('ended', this.audioEndListener);\n            this.audio.removeEventListener('stalled', this.audioStallListener);\n            this.audio.removeEventListener('timeupdate', this.audioTimeUpdateListener);\n            this.audio.removeEventListener('loadedmetadata', this.audioMetadataLoadedListener);\n            this.removeMediaEventListeners(this.props.onMediaEvent);\n            clearTimeout(this.gapLengthTimeout);\n            clearTimeout(this.delayTimeout); // pause the audio element before we unmount\n\n            this.audio.pause(); // remove noselect class in case a seek is in progress\n\n            document.body.classList.remove('noselect');\n          }\n        }, {\n          key: 'componentWillReceiveProps',\n          value: function componentWillReceiveProps(nextProps) {\n            var _this3 = this;\n\n            logDeprecationWarnings(nextProps); // Update media event listeners that may have changed\n\n            this.removeMediaEventListeners(this.props.onMediaEvent);\n            this.addMediaEventListeners(nextProps.onMediaEvent);\n            var oldControls = [].concat(_toConsumableArray(this.props.controls));\n            this.controlKeys = nextProps.controls.map(function (control) {\n              var matchingIndex = oldControls.indexOf(control);\n\n              if (matchingIndex !== -1 && oldControls[matchingIndex]) {\n                oldControls[matchingIndex] = null;\n                return _this3.controlKeys[matchingIndex];\n              }\n\n              return getNextControlKey();\n            });\n            this.audio.crossOrigin = nextProps.crossOrigin;\n            var newPlaylist = nextProps.playlist;\n\n            if (!newPlaylist || !newPlaylist.length) {\n              if (this.audio) {\n                this.audio.src = '';\n              }\n\n              this.currentTrackIndex = 0;\n              return this.setState(this.defaultState);\n            }\n\n            var oldPlaylist = this.props.playlist;\n            var currentTrackUrl = ((oldPlaylist || [])[this.currentTrackIndex] || {}).url;\n            this.currentTrackIndex = array_find_index__WEBPACK_IMPORTED_MODULE_2___default()(newPlaylist, function (track) {\n              return track.url && currentTrackUrl === track.url;\n            });\n            /* if the track we're already playing is in the new playlist, update the\n             * activeTrackIndex.\n             */\n\n            if (this.currentTrackIndex !== -1) {\n              this.setState({\n                activeTrackIndex: this.currentTrackIndex\n              });\n            }\n          }\n        }, {\n          key: 'addMediaEventListeners',\n          value: function addMediaEventListeners(mediaEvents) {\n            var _this4 = this;\n\n            if (!mediaEvents) {\n              return;\n            }\n\n            Object.keys(mediaEvents).forEach(function (type) {\n              if (typeof mediaEvents[type] !== 'function') {\n                return;\n              }\n\n              _this4.audio.addEventListener(type, mediaEvents[type]);\n            });\n          }\n        }, {\n          key: 'removeMediaEventListeners',\n          value: function removeMediaEventListeners(mediaEvents) {\n            var _this5 = this;\n\n            if (!mediaEvents) {\n              return;\n            }\n\n            Object.keys(mediaEvents).forEach(function (type) {\n              if (typeof mediaEvents[type] !== 'function') {\n                return;\n              }\n\n              _this5.audio.removeEventListener(type, mediaEvents[type]);\n            });\n          }\n        }, {\n          key: 'componentDidUpdate',\n          value: function componentDidUpdate(prevProps) {\n            var _this6 = this;\n            /* if we loaded a new playlist and reset the current track marker, we\n             * should load up the first one.\n             */\n\n\n            if (this.currentTrackIndex === -1) {\n              this.skipToNextTrack(false);\n            }\n\n            if (prevProps !== this.props && !this.audio.paused) {\n              // update running media session based on new props\n              this.stealMediaSession();\n            } // minimal check to see if the playlist was mutated\n            // (won't cover case where track properties are mutated directly)\n\n\n            if (!this.warnedAboutPlaylistMutation && this.props.playlist && prevProps.playlist && prevProps.playlist === this.props.playlist && this.props.playlist.length && (this.lastPlaylistCopy.length !== this.props.playlist.length || this.currentTrackIndex > -1 && this.lastPlaylistCopy[this.currentTrackIndex] !== this.props.playlist[this.currentTrackIndex] || this.props.playlist.some(function (track, index) {\n              return _this6.lastPlaylistCopy[index] !== track;\n            }))) {\n              logWarning('\\n        Making direct changes to the `playlist` prop is deprecated usage\\n        which will stop working correctly in react-responsive-audio-player\\n        v2.0.0. Instead you should make a new shallow copy of `playlist` and\\n        pass that copy, modified, when you need to update playlist contents.\\n        For more information, see:\\n        https://github.com/benwiley4000/react-responsive-audio-player/blob/bcab159f365bd82ad25ee9e0288224e0d174b886/docs/playlist_in_progress.md');\n              this.warnedAboutPlaylistMutation = true;\n            }\n\n            if (!this.warnedAboutPlaylistMutation) {\n              this.lastPlaylistCopy = this.props.playlist && [].concat(_toConsumableArray(this.props.playlist));\n            }\n          }\n        }, {\n          key: 'setAudioElementRef',\n          value: function setAudioElementRef(ref) {\n            this.audio = ref;\n\n            if (typeof this.props.audioElementRef === 'function') {\n              this.props.audioElementRef(this.audio);\n            }\n          }\n        }, {\n          key: 'stealMediaSession',\n          value: function stealMediaSession() {\n            var _this7 = this;\n\n            if (!(window.MediaSession && navigator.mediaSession instanceof MediaSession)) {\n              return;\n            }\n\n            navigator.mediaSession.metadata = new MediaMetadata(this.props.playlist[this.currentTrackIndex]);\n            supportableMediaSessionActions.map(function (action) {\n              if (_this7.props.supportedMediaSessionActions.indexOf(action) === -1) {\n                return null;\n              }\n\n              var seekLength = _this7.props.mediaSessionSeekLengthInSeconds;\n\n              switch (action) {\n                case 'play':\n                  return _this7.togglePause.bind(_this7, false);\n\n                case 'pause':\n                  return _this7.togglePause.bind(_this7, true);\n\n                case 'previoustrack':\n                  return _this7.backSkip;\n\n                case 'nexttrack':\n                  return _this7.skipToNextTrack;\n\n                case 'seekbackward':\n                  return function () {\n                    return _this7.audio.currentTime -= seekLength;\n                  };\n\n                case 'seekforward':\n                  return function () {\n                    return _this7.audio.currentTime += seekLength;\n                  };\n\n                default:\n                  return undefined;\n              }\n            }).forEach(function (handler, i) {\n              navigator.mediaSession.setActionHandler(supportableMediaSessionActions[i], handler);\n            });\n          }\n        }, {\n          key: 'togglePause',\n          value: function togglePause(value) {\n            if (!this.audio) {\n              return;\n            }\n\n            var pause = typeof value === 'boolean' ? value : !this.state.paused;\n\n            if (pause) {\n              return this.audio.pause();\n            }\n\n            if (!this.props.playlist || !this.props.playlist.length) {\n              return;\n            }\n\n            try {\n              var playPromise = this.audio.play();\n\n              if (playPromise && typeof playPromise.catch === 'function') {\n                playPromise.catch(function (err) {\n                  // AbortError is pretty much always called because we're skipping\n                  // tracks quickly or hitting pause before a track has a chance to\n                  // play. It's pretty safe to just ignore these error messages.\n                  if (err.name !== 'AbortError') {\n                    return Promise.reject(err);\n                  }\n                }).catch(playErrorHandler);\n              }\n            } catch (err) {\n              playErrorHandler(err);\n            }\n          }\n        }, {\n          key: 'skipToNextTrack',\n          value: function skipToNextTrack(shouldPlay) {\n            var _this8 = this;\n\n            if (!this.audio) {\n              return;\n            }\n\n            if (!this.props.playlist || !this.props.playlist.length) {\n              return;\n            }\n\n            var i = this.currentTrackIndex + 1;\n\n            if (i >= this.props.playlist.length) {\n              i = 0;\n            }\n\n            this.currentTrackIndex = i;\n            var shouldPauseOnCycle = !this.props.cycle && this.currentTrackIndex === 0;\n            var shouldPause = shouldPauseOnCycle || (typeof shouldPlay === 'boolean' ? !shouldPlay : false);\n\n            if (shouldPause) {\n              this.togglePause(true);\n            }\n\n            this.setState({\n              activeTrackIndex: -1,\n              displayedTime: 0\n            }, function () {\n              setTimeout(function () {\n                // run asynchronously so \"pause\" event has time to process\n                _this8.updateSource();\n\n                if (!shouldPause) {\n                  _this8.togglePause(false);\n                }\n              });\n            });\n          }\n        }, {\n          key: 'backSkip',\n          value: function backSkip() {\n            if (!this.props.playlist || !this.props.playlist.length) {\n              return;\n            }\n\n            var audio = this.audio;\n            var stayOnBackSkipThreshold = this.props.stayOnBackSkipThreshold;\n\n            if (isNaN(stayOnBackSkipThreshold)) {\n              stayOnBackSkipThreshold = 5;\n            }\n\n            if (audio.currentTime >= stayOnBackSkipThreshold) {\n              return audio.currentTime = 0;\n            }\n\n            var i = this.currentTrackIndex - 1;\n\n            if (i < 0) {\n              i = this.props.playlist.length - 1;\n            }\n\n            this.currentTrackIndex = i - 1;\n            this.skipToNextTrack();\n          }\n        }, {\n          key: 'updateSource',\n          value: function updateSource() {\n            this.audio.src = this.props.playlist[this.currentTrackIndex].url;\n          }\n        }, {\n          key: 'handleTimeUpdate',\n          value: function handleTimeUpdate() {\n            if (!this.seekInProgress && this.audio) {\n              this.setState({\n                displayedTime: this.audio.currentTime\n              });\n            }\n          }\n        }, {\n          key: 'adjustDisplayedTime',\n          value: function adjustDisplayedTime(event) {\n            if (!this.props.playlist || !this.props.playlist.length || this.props.disableSeek) {\n              return;\n            } // make sure we don't select stuff in the background while seeking\n\n\n            if (event.type === 'mousedown' || event.type === 'touchstart') {\n              this.seekInProgress = true;\n              document.body.classList.add('noselect');\n            } else if (!this.seekInProgress) {\n              return;\n            }\n            /* we don't want mouse handlers to receive the event\n             * after touch handlers if we're seeking.\n             */\n\n\n            event.preventDefault();\n            var boundingRect = this.audioProgressContainer.getBoundingClientRect();\n            var isTouch = event.type.slice(0, 5) === 'touch';\n            var pageX = isTouch ? event.targetTouches.item(0).pageX : event.pageX;\n            var position = pageX - boundingRect.left - document.body.scrollLeft;\n            var containerWidth = boundingRect.width;\n            var progressPercentage = Math.max(0, Math.min(1, position / containerWidth));\n            this.setState({\n              displayedTime: progressPercentage * this.audio.duration\n            });\n          }\n        }, {\n          key: 'seek',\n          value: function seek(event) {\n            /* this function is activated when the user lets\n             * go of the mouse, so if .noselect was applied\n             * to the document body, get rid of it.\n             */\n            document.body.classList.remove('noselect');\n\n            if (!this.seekInProgress) {\n              return;\n            }\n            /* we don't want mouse handlers to receive the event\n             * after touch handlers if we're seeking.\n             */\n\n\n            event.preventDefault();\n            this.seekInProgress = false;\n            var displayedTime = this.state.displayedTime;\n\n            if (isNaN(displayedTime)) {\n              return;\n            }\n\n            this.audio.currentTime = displayedTime;\n          }\n        }, {\n          key: 'render',\n          value: function render() {\n            var _this9 = this;\n\n            var activeIndex = this.state.activeTrackIndex;\n            var displayText = this.props.getDisplayText(this.props.playlist[activeIndex]);\n            var displayedTime = this.state.displayedTime;\n            var duration = this.audio && this.audio.duration || 0;\n            var elapsedTime = convertToTime(displayedTime);\n            var fullTime = convertToTime(duration);\n            var timeRatio = elapsedTime + ' / ' + fullTime;\n            var progressBarWidth = displayedTime / duration * 100 + '%';\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n              id: 'audio_player',\n              className: 'audio_player',\n              title: displayText,\n              style: this.props.style\n            }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('audio', {\n              ref: this.setAudioElementRef\n            }), this.props.controls.map(function (controlKeyword, index) {\n              var controlProps = controlKeyword === 'progress' || controlKeyword === 'progressdisplay' ? {\n                displayText: displayText,\n                timeRatio: timeRatio,\n                progressBarWidth: progressBarWidth,\n                audioPlayer: _this9\n              } : {\n                audioPlayer: _this9\n              };\n              var Control = keywordToControlComponent[controlKeyword] || null;\n              return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Control, _extends({}, controlProps, {\n                key: _this9.controlKeys[index]\n              }));\n            }));\n          }\n        }]);\n\n        return AudioPlayer;\n      }(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n      AudioPlayer.propTypes = {\n        playlist: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array,\n        controls: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(['playpause', 'backskip', 'forwardskip', 'progress', 'progressdisplay', 'spacer'])),\n        crossOrigin: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(['anonymous', 'use-credentials']),\n        autoplay: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n        autoplayDelayInSeconds: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n        gapLengthInSeconds: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n        hideBackSkip: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n        hideForwardSkip: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n        cycle: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n        disableSeek: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n        stayOnBackSkipThreshold: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n        supportedMediaSessionActions: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(['play', 'pause', 'previoustrack', 'nexttrack', 'seekbackward', 'seekforward']).isRequired).isRequired,\n        mediaSessionSeekLengthInSeconds: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n        getDisplayText: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n        style: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,\n        onMediaEvent: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,\n        audioElementRef: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func\n      };\n      AudioPlayer.defaultProps = {\n        cycle: true,\n        controls: ['spacer', 'backskip', 'playpause', 'forwardskip', 'spacer', 'progress'],\n        supportedMediaSessionActions: ['play', 'pause', 'previoustrack', 'nexttrack'],\n        mediaSessionSeekLengthInSeconds: 10,\n        getDisplayText: function getDisplayText(track) {\n          if (!track) {\n            return '';\n          }\n\n          if (track.displayText) {\n            // TODO: Remove this check when support for the displayText prop is gone.\n            return track.displayText;\n          }\n\n          if (track.title && track.artist) {\n            return track.artist + ' - ' + track.title;\n          }\n\n          return track.title || track.artist || track.album || '';\n        }\n      };\n      /* harmony default export */\n\n      __webpack_exports__[\"default\"] = AudioPlayer;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {// extracted by mini-css-extract-plugin\n\n      /***/\n    }])[\"default\"]\n  );\n});","map":null,"metadata":{},"sourceType":"script"}